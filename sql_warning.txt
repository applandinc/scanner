Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Microposts_controller can get microposts as JSON","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/controllers/microposts_controller_test.rb:9","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/3... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Users_profile profile display while anonyomus","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/integration/users_profile_test.rb:18","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/3.0.0/logge... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Microposts_interface micropost interface","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/integration/microposts_interface_test.rb:9","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/3.0.0/logg... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Users_login login with valid email/invalid password","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/integration/users_login_test.rb:9","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/3.0.0/lo... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Users_login login with valid information followed by logout","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/integration/users_login_test.rb:21","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.5.1","metadata":{"app":"sample_app_6th_ed","language":{"name":"ruby","engine":"ruby","version":"3.0.2"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","version":"0.71.0"},"frameworks":[{"name":"rails","version":"6.0.4.1"},{"name":"minitest","version":"5.11.3"}],"git":{"repository":"git@github.com:land-of-apps/sample_app_6th_ed.git","branch":"appmap-e2e","commit":"d34613cd296aa443ababfb3a8912124eade0b582","status":["D  .npmrc","M Gemfile","M Gemfile.lock","M app/controllers/sessions_controller.rb","M app/helpers/sessions_helper.rb","M appland-scanner.yml","M appmap.yml","M package.json","M swagger/openapi.yaml","M swagger/openapi_stable.yaml","M yarn.lock","?? appland-findings.json"],"git_last_annotated_tag":null,"git_last_tag":null,"git_commits_since_last_annotated_tag":null,"git_commits_since_last_tag":null},"name":"Users_index index as admin including pagination and delete links","source_location":"/Users/kgilpin/source/land-of-apps/sample_app_6th_ed/test/integration/users_index_test.rb:10","recorder":{"name":"minitest"},"test_status":"succeeded"},"classMap":[{"name":"activesupport","type":"package","children":[{"name":"ActiveSupport","type":"class","children":[{"name":"Callbacks","type":"class","children":[{"name":"CallbackSequence","type":"class","children":[{"name":"invoke_before","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:512","static":false,"labels":["mvc.before_action"]},{"name":"invoke_after","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib/ruby/gems/3.0.0/gems/activesupport-6.0.4.1/lib/active_support/callbacks.rb:516","static":false,"labels":["mvc.after_action"]}]}]}]}]},{"name":"logger","type":"package","children":[{"name":"Logger","type":"class","children":[{"name":"LogDevice","type":"class","children":[{"name":"write","type":"function","location":"/Users/kgilpin/.rbenv/versions/3.0.2/lib... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse SELECT subquery.*, "metadata" FROM "scenarios" INNER JOIN (WITH "matching_scenarios" AS (SELECT "id" AS "scenario_id" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND (labels && ARRAY[?]) AND (("mapset_id" IS ?) OR (? = ?)))) SELECT "mapset_id", "uuid", ARRAY(SELECT UNNEST(labels) INTERSECT SELECT UNNEST(ARRAY[?])) AS "labels" FROM "matching_scenarios" INNER JOIN "scenarios" ON ("scenarios"."id" = "matching_scenarios"."scenario_id") GROUP BY "mapset_id", "uuid", "labels") AS "subquery" ON ("scenarios"."uuid" = "subquery"."uuid") : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT subquery.*, "metadata" FROM "scenarios" INNER JOIN (WITH "matching_scenarios" AS (SELECT "id" AS "scenario_id" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND (EXISTS (SELECT ? FROM "scenario_code_objects" WHERE (("scenario_id" = "scenarios"."id") AND ("object_name" IN (?, ?, ?))) LIMIT ?)) AND (labels && ARRAY[?]) AND ("mapset_id" IN (?)) AND (NOT(labels && ARRAY[?])))) SELECT "mapset_id", "uuid", ARRAY(SELECT UNNEST(labels) INTERSECT SELECT UNNEST(ARRAY[?])) AS "labels", array_agg(object_name) AS "object_names" FROM "matching_scenarios" INNER JOIN "scenarios" ON ("scenarios"."id" = "matching_scenarios"."scenario_id") INNER JOIN "scenario_code_objects" ON (scenario_code_objects.scenario_id = matching_scenarios.scenario_id AND ("object_name" IN (?, ?, ?))) GROUP BY "mapset_id", "uuid", "labels") AS "subquery" ON ("scenarios"."uuid" = "subquery"."uuid") : Syntax error found near WITH Clause (LIMIT Clause)
Unable to parse SELECT subquery.*, "metadata" FROM "scenarios" INNER JOIN (WITH "matching_scenarios" AS (SELECT "id" AS "scenario_id" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND (EXISTS (SELECT ? FROM "scenario_code_objects" WHERE (("scenario_id" = "scenarios"."id") AND ("object_name" IN (?))) LIMIT ?)) AND (labels && ARRAY[?]) AND ("mapset_id" IN (?)) AND (NOT(labels && ARRAY[?])))) SELECT "mapset_id", "uuid", ARRAY(SELECT UNNEST(labels) INTERSECT SELECT UNNEST(ARRAY[?])) AS "labels", array_agg(object_name) AS "object_names" FROM "matching_scenarios" INNER JOIN "scenarios" ON ("scenarios"."id" = "matching_scenarios"."scenario_id") INNER JOIN "scenario_code_objects" ON (scenario_code_objects.scenario_id = matching_scenarios.scenario_id AND ("object_name" IN (?))) GROUP BY "mapset_id", "uuid", "labels") AS "subquery" ON ("scenarios"."uuid" = "subquery"."uuid") : Syntax error found near WITH Clause (LIMIT Clause)
Unable to parse SELECT subquery.*, "metadata" FROM "scenarios" INNER JOIN (WITH "matching_scenarios" AS (SELECT "id" AS "scenario_id" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND (EXISTS (SELECT ? FROM "scenario_code_objects" WHERE (("scenario_id" = "scenarios"."id") AND ("object_name" IN (?, ?, ?))) LIMIT ?)) AND (labels && ARRAY[?]) AND ("mapset_id" IN (?)))) SELECT "mapset_id", "uuid", ARRAY(SELECT UNNEST(labels) INTERSECT SELECT UNNEST(ARRAY[?])) AS "labels", array_agg(object_name) AS "object_names" FROM "matching_scenarios" INNER JOIN "scenarios" ON ("scenarios"."id" = "matching_scenarios"."scenario_id") INNER JOIN "scenario_code_objects" ON (scenario_code_objects.scenario_id = matching_scenarios.scenario_id AND ("object_name" IN (?, ?, ?))) GROUP BY "mapset_id", "uuid", "labels") AS "subquery" ON ("scenarios"."uuid" = "subquery"."uuid") : Syntax error found near WITH Clause (LIMIT Clause)
Unable to parse SELECT subquery.*, "metadata" FROM "scenarios" INNER JOIN (WITH "matching_scenarios" AS (SELECT "id" AS "scenario_id" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND (EXISTS (SELECT ? FROM "scenario_code_objects" WHERE (("scenario_id" = "scenarios"."id") AND ("object_name" IN (?))) LIMIT ?)) AND (labels && ARRAY[?,?]) AND ("mapset_id" IN (?)) AND NOT (EXISTS (SELECT ? FROM "scenario_code_objects" WHERE (("scenario_id" = "scenarios"."id") AND ("object_name" IN (?))) LIMIT ?)) AND (NOT(labels && ARRAY[?,?])))) SELECT "mapset_id", "uuid", ARRAY(SELECT UNNEST(labels) INTERSECT SELECT UNNEST(ARRAY[?,?])) AS "labels", array_agg(object_name) AS "object_names" FROM "matching_scenarios" INNER JOIN "scenarios" ON ("scenarios"."id" = "matching_scenarios"."scenario_id") INNER JOIN "scenario_code_objects" ON (scenario_code_objects.scenario_id = matching_scenarios.scenario_id AND ("object_name" IN (?))) GROUP BY "mapset_id", "uuid", "labels") AS "subquery" ON ("scenarios"."uuid" = "subquery"."uuid") : Syntax error found near WITH Clause (LIMIT Clause)
Unable to parse INSERT INTO "scanner_findings" ("scanner_job_id", "scenario_id", "data") VALUES (16, 35, '{"appMapName":"activating multiple users sends email notifications to them","checkId":"too-many-updates","ruleId":"too-many-updates","ruleTitle":"Too many SQL and RPC updates performed in one command","event":{"sql_query":{"sql":"UPDATE \"django_session\" SET \"session_data\" = ''NTc1MmU5YjU5OTg2ZmEyOWJhMjNmMmZhZDc0NTE5MzA2YjNjZWZiMzp7Il9hdXRoX3VzZXJfaWQiOiIyMjE0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoibWlzYWdvLnVzZXJzLmF1dGhiYWNrZW5kcy5NaXNhZ29CYWNrZW5kIiwiX2F1dGhfdXNlcl9oYXNoIjoiYzM2NWJlMGFiYmJlNTJkYTJlYzMzOThiOTFjNDQzZTkyYzgyNTVlOCIsIm1pc2Fnb19hZG1pbl9zZXNzaW9uX3Rva2VuIjoiMjk3MTYwZWMzNDUxYjQyMjBmMzlkNWUzNjFlZjhhODEiLCJtaXNhZ29fYWRtaW5fc2Vzc2lvbl91cGRhdGVkIjoxNjM3MjEwMTc0fQ=='', \"expire_date\" = ''2021-12-02T04:36:14.381083+00:00''::timestamptz WHERE \"django_session\".\"session_key\" = ''ofkw0znvj5pgesc7zds74l232h4ipale''","database_type":"postgresql","server_version":"10.0.19"},"id":"940","event":"call","thread_id":"1"},"hash":"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","scope":{"static":"true","id":"1","event":"call","thread_id":"1","defined_class":"misago.users.admin.tests.test_users_mass_actions","method_id":"test_activating_multiple_users_sends_email_notifications_to_them","path":"misago/users/admin/tests/test_users_mass_actions.py","lineno":"48"},"message":"Command performs 23 SQL and RPC updates","relatedEvents":[{"sql_query":{"sql":"UPDATE \"django_session\" SET \"session_data\" = ''NTc1MmU5YjU5OTg2ZmEyOWJhMjNmMmZhZDc0NTE5MzA2YjNjZWZiMzp7Il9hdXRoX3VzZXJfaWQiOiIyMjE0IiwiX2F1dGhfdXNlcl9iYWNrZW5kIjoibWlzYWdvLnVzZXJzLmF1dGhiYWNrZW5kcy5NaXNhZ29CYWNrZW5kIiwiX2F1dGhfdXNlcl9oYXNoIjoiYzM2NWJlMGFiYmJlNTJkYTJlYzMzOThiOTFjNDQzZTkyYzgyNTVlOCIsIm1pc2Fnb19hZG1pbl9zZXNzaW9uX3Rva2VuIjoiMjk3MTYwZWMzNDUxYjQyMjBmMzlkNWUzNjFlZjhhODEiLCJtaXNhZ29fYWRtaW5fc2Vzc2lvbl91cGRhdGVkIjoxNjM3MjEwMTc0fQ=='', \"expire_date\" = ''2021-12-02T04:36:14.381083+00:00''::timestamptz WHERE \"django_session\".\"session_key\" = ''ofkw0znvj5... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scanner_findings" ("scanner_job_id", "scenario_id", "data") VALUES (16, 36, '{"appMapName":"active theme styles are included in page html","checkId":"n-plus-one-query","ruleId":"n-plus-one-query","ruleTitle":"N+1 SQL queries","event":{"sql_query":{"sql":"SELECT \"misago_menus_menuitem\".\"id\", \"misago_menus_menuitem\".\"menu\", \"misago_menus_menuitem\".\"title\", \"misago_menus_menuitem\".\"url\", \"misago_menus_menuitem\".\"order\", \"misago_menus_menuitem\".\"css_class\", \"misago_menus_menuitem\".\"target_blank\", \"misago_menus_menuitem\".\"rel\" FROM \"misago_menus_menuitem\" WHERE NOT (\"misago_menus_menuitem\".\"menu\" = ''footer'') ORDER BY \"misago_menus_menuitem\".\"order\" ASC  LIMIT 21","database_type":"postgresql","server_version":"10.0.19"},"id":"712","event":"call","thread_id":"1"},"hash":"b89a2fd3adcdbccbe5bdf3e021073bee5e3c82593e9b6ecc1a3fca724e4e1971","scope":{"http_server_request":{"request_method":"GET","protocol":"HTTP/1.1","path_info":"/","normalized_path_info":"/","headers":{"Cookie":""}},"id":"12","event":"call","thread_id":"1"},"message":"16 occurrences of SQL \"SELECT ?.?, ?.?, ?.?, ?.?, ?.?, ?.?, ?.?, ?.? FROM ? WHERE NOT (?.? = ?) ORDER BY ?.? ASC  LIMIT ?\"","relatedEvents":[{"sql_query":{"sql":"SELECT \"misago_menus_menuitem\".\"id\", \"misago_menus_menuitem\".\"menu\", \"misago_menus_menuitem\".\"title\", \"misago_menus_menuitem\".\"url\", \"misago_menus_menuitem\".\"order\", \"misago_menus_menuitem\".\"css_class\", \"misago_menus_menuitem\".\"target_blank\", \"misago_menus_menuitem\".\"rel\" FROM \"misago_menus_menuitem\" WHERE NOT (\"misago_menus_menuitem\".\"menu\" = ''footer'') ORDER BY \"misago_menus_menuitem\".\"order\" ASC  LIMIT 21","database_type":"postgresql","server_version":"10.0.19"},"id":"712","event":"call","thread_id":"1"},{"sql_query":{"sql":"SELECT \"misago_menus_menuitem\".\"id\", \"misago_menus_menuitem\".\"menu\", \"misago_menus_menuitem\".\"title\", \"misago_menus_menuitem\".\"url\", \"misago_menus_menuitem\".\"order\", \"misago_menus_menuite... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse SELECT DISTINCT "caller", "callee" FROM "scenarios", lateral jsonb_to_recordset(class_invocation_graph) as graph(caller q_class, callee q_class) WHERE ("id" IN (?)) : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "sql_queries" AS (SELECT sql_query.sql_query ->> ?::text AS "database_type", COALESCE(sql_query.sql_query ->> ?, sql_query.sql_query ->> ?)::text AS "sql" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_sql_queries, ?::jsonb)) sql_query(id integer, sql_query jsonb) WHERE ("mapset_id" = ?)) SELECT DISTINCT "sql" FROM "sql_queries" : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (SELECT DISTINCT http_server_request.http_server_request ->> ?::text AS "request_method", http_server_request.http_server_request ->> ?::text AS "path_info" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_http_server_requests, ?::jsonb)) http_server_request(id integer, http_server_request jsonb) WHERE ("mapset_id" = ?)) SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (SELECT DISTINCT sql_query.sql_query ->> ?::text AS "database_type", COALESCE(sql_query.sql_query ->> ?, sql_query.sql_query ->> ?)::text AS "sql" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_sql_queries, ?::jsonb)) sql_query(id integer, sql_query jsonb) WHERE ("mapset_id" = ?)) SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (WITH "messages" AS (SELECT array_agg(msg.name) AS "message_fields" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_messages, ?::jsonb)) message(id integer, message jsonb), LATERAL jsonb_to_recordset(message.message) msg(name text) WHERE ("mapset_id" = ?) GROUP BY "message"."id") SELECT DISTINCT "message_fields" FROM "messages") SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse SELECT "apps"."id", "apps"."name" AS "name", "orgs"."slug" AS "org_slug", "orgs"."name" AS "org_name", "url", "apps"."created_at", "apps"."slug", "users"."login" AS "owner_login" FROM "apps" INNER JOIN "orgs" ON ("orgs"."id" = "apps"."org_id") INNER JOIN "users" ON ("users"."id" = "orgs"."owner_id") WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("public" IS ?)) ORDER BY "name" OFFSET ? : Syntax error found near Identifier (ORDER BY Clause)
Unable to parse WITH "mapset_scenarios" AS (SELECT * FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE ("scenarios"."mapset_id" = ?)) SELECT DISTINCT request->>? AS "request_method", request->>? AS "path_info" FROM "mapset_scenarios", lateral jsonb_path_query(events_http_server_requests, ?) request WHERE (request->>? ILIKE ? ESCAPE ? : Syntax error found near Identifier (FROM Clause)
Unable to parse SELECT DISTINCT "object_name" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") INNER JOIN "scenarios_code_objects" ON ("scenarios"."id" = "scenarios_code_objects"."scenario_id") INNER JOIN "code_objects" ON ("code_objects"."id" = "scenarios_code_objects"."code_object_id") WHERE (("scenarios"."mapset_id" = ?) AND ("type" = ?) AND ("object_name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT DISTINCT metadata->>? AS "feature" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE (("scenarios"."mapset_id" = ?) AND (metadata->>? ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT count(*) AS "v" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE (("scenarios"."mapset_id" = ?) AND ("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT "scenarios"."id", "scenarios"."uuid", "scenarios"."name", metadata->>? AS "feature_group", metadata->>? AS "feature", "scenarios"."event_field_counts", "scenarios"."created_at", "scenarios"."mapset_id", "mapsets"."app_id" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE (("scenarios"."mapset_id" = ?) AND ("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse UPDATE "apps" SET "created_at" = ?, "updated_at" = ?, "name" = ?, "url" = ?, "org_id" = ?, "preferred_environments" = ARRAY[?]::text[], "preferred_branches" = ARRAY[?]::text[], "public" = ?, "slug" = ? WHERE ("id" = ?) : Syntax error found near Identifier (SET Clause)
Unable to parse SELECT "apps"."id", "apps"."name" AS "name", "orgs"."slug" AS "org_slug", "orgs"."name" AS "org_name", "url", "apps"."created_at", "apps"."slug", "users"."login" AS "owner_login", "scenario_count", "feature_group_count" FROM "apps" INNER JOIN "orgs" ON ("orgs"."id" = "apps"."org_id") INNER JOIN "users" ON ("users"."id" = "orgs"."owner_id") INNER JOIN "apps_preferred_mapsets_stats" ON ("apps_preferred_mapsets_stats"."id" = "apps"."id") WHERE ("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) ORDER BY "name" OFFSET ? : Syntax error found near Identifier (ORDER BY Clause)
Unable to parse SELECT DISTINCT "caller", "callee" FROM "scenarios", lateral jsonb_to_recordset(class_invocation_graph) as graph(caller q_class, callee q_class) WHERE ("id" IN (?, ?)) : Syntax error found near Identifier (FROM Clause)
Unable to parse SELECT count(*) AS "v" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE (("scenarios"."mapset_id" = ?) AND (("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT "scenarios"."id", "scenarios"."uuid", "scenarios"."name", metadata->>? AS "feature_group", metadata->>? AS "feature", "scenarios"."event_field_counts", "scenarios"."created_at", "scenarios"."mapset_id", "mapsets"."app_id" FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE (("scenarios"."mapset_id" = ?) AND (("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT DISTINCT "caller", "callee" FROM "scenarios", lateral jsonb_to_recordset(class_invocation_graph) as graph(caller q_class, callee q_class) WHERE (? = ?) : Syntax error found near Identifier (FROM Clause)
Unable to parse SELECT "apps"."id", "apps"."name" AS "name", "orgs"."slug" AS "org_slug", "orgs"."name" AS "org_name", "url", "apps"."created_at", "apps"."slug", "users"."login" AS "owner_login" FROM "apps" INNER JOIN "orgs" ON ("orgs"."id" = "apps"."org_id") INNER JOIN "users" ON ("users"."id" = "orgs"."owner_id") WHERE ("public" IS ?) ORDER BY "name" OFFSET ? : Syntax error found near Identifier (ORDER BY Clause)
Unable to parse WITH "mapset_scenarios" AS (SELECT * FROM "scenarios" INNER JOIN "mapsets" ON ("mapsets"."id" = "scenarios"."mapset_id") WHERE ("scenarios"."mapset_id" = ?)) SELECT DISTINCT message->>? AS "message_name" FROM "mapset_scenarios", lateral jsonb_path_query(events_messages, ?) message WHERE (message->>? ILIKE ? ESCAPE ? : Syntax error found near Identifier (FROM Clause)
Unable to parse SELECT DISTINCT "caller", "callee" FROM "scenarios", lateral jsonb_to_recordset(class_invocation_graph) as graph(caller q_class, callee q_class) WHERE ("id" IN (?, ?, ?, ?)) : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "routes" AS (SELECT DISTINCT http_server_request.http_server_request ->> ?::text AS "request_method", http_server_request.http_server_request ->> ?::text AS "path_info" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_http_server_requests, ?::jsonb)) http_server_request(id integer, http_server_request jsonb) WHERE ("mapset_id" = ?)) SELECT count(*) FROM "routes" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "sql_query" AS (SELECT DISTINCT sql_query.sql_query ->> ?::text AS "database_type", COALESCE(sql_query.sql_query ->> ?, sql_query.sql_query ->> ?)::text AS "sql" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_sql_queries, ?::jsonb)) sql_query(id integer, sql_query jsonb) WHERE ("mapset_id" = ?)) SELECT count(*) FROM "sql_query" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (SELECT DISTINCT http_server_request.http_server_request ->> ?::text AS "request_method", http_server_request.http_server_request ->> ?::text AS "path_info" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_http_server_requests, ?::jsonb)) http_server_request(id integer, http_server_request jsonb) WHERE ("scenarios"."id" = ?)) SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (SELECT DISTINCT sql_query.sql_query ->> ?::text AS "database_type", COALESCE(sql_query.sql_query ->> ?, sql_query.sql_query ->> ?)::text AS "sql" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_sql_queries, ?::jsonb)) sql_query(id integer, sql_query jsonb) WHERE ("scenarios"."id" = ?)) SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse WITH "key_data_stats" AS (WITH "messages" AS (SELECT array_agg(msg.name) AS "message_fields" FROM "scenarios", LATERAL jsonb_to_recordset(COALESCE(scenarios.events_messages, ?::jsonb)) message(id integer, message jsonb), LATERAL jsonb_to_recordset(message.message) msg(name text) WHERE ("scenarios"."id" = ?) GROUP BY "message"."id") SELECT DISTINCT "message_fields" FROM "messages") SELECT count(*) AS "num_distinct" FROM "key_data_stats" LIMIT ? : Syntax error found near Identifier (FROM Clause)
Unable to parse INSERT INTO "scenarios" ("data", "link_sharing", "org_id", "mapset_id") VALUES ('{"version":"1.2","classMap":[{"name":"controllers","location":"app/controllers","type":"package","children":[{"name":"SessionController","location":"app/controllers/session_controller.rb:2","type":"class","children":[{"name":"create","location":"app/controllers/session_controller.rb:4","type":"function","static":false}]}]},{"name":"models","location":"app/models","type":"package","children":[{"name":"Session","location":"app/models/session.rb:2","type":"class","children":[{"name":"initialize","location":"app/models/session.rb:4","type":"function","static":false},{"name":"delete","location":"app/models/session.rb:8","type":"function","static":true}]}]}],"metadata":{"name":"Example scenario","language":{"name":"ruby"},"recorder":{"name":"rspec"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","inferred":true}},"events":[{"id":1,"event":"call","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lineno":4,"receiver":{"class":"SessionController","value":"#<SessionController:0x0000000000000000>","object_id":"0"},"http_server_request":{"request_method":"POST","normalized_path_info":"/sessions/new","path_info":"/sessions/new","client_normalized_path_info":"/sessions/new"},"message":[{"name":"login","class":"String","object_id":70252828231460,"value":"alice"}]},{"id":2,"event":"call","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"receiver":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":"1"},"sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized_sql":"SELECT * FROM users WHERE login = $1","normalized":true}},{"id":3,"event":"return","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"parent_id":2},{"id":4,"event":"return","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lin... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse SELECT count(*) AS "v" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND ("scenarios"."mapset_id" IS ?) AND ("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT "scenarios"."id", "scenarios"."uuid", "scenarios"."name", metadata->>? AS "feature_group", metadata->>? AS "feature", "scenarios"."event_field_counts", "scenarios"."created_at" FROM "scenarios" WHERE ((("scenarios"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) OR ("scenarios"."mapset_id" IN (SELECT "mapsets"."id" FROM "mapsets" WHERE (("mapsets"."app_id" IN (SELECT "apps"."id" FROM "apps" WHERE (("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) AND ("apps"."id" IS NOT ?)))) AND ("mapsets"."id" IS NOT ?))))) AND ("scenarios"."mapset_id" IS ?) AND ("scenarios"."name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse SELECT count(*) AS "count" FROM "orgs" WHERE ("name" ILIKE ? ESCAPE ? : Syntax error found near WITH Clause (WHERE Clause)
Unable to parse INSERT INTO "users_orgs" ("org_id", "user_id") VALUES (?, ?) RETURNING ? : Syntax error found near Numbered Bind Parameter (VALUES Clause)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.2","classMap":[{"name":"controllers","location":"app/controllers","type":"package","children":[{"name":"SessionController","location":"app/controllers/session_controller.rb:2","type":"class","children":[{"name":"create","location":"app/controllers/session_controller.rb:4","type":"function"}]}]},{"name":"models","location":"app/models","type":"package","children":[{"name":"Session","location":"app/models/session.rb:2","type":"class","children":[{"name":"initialize","location":"app/models/session.rb:4","type":"function"},{"name":"delete","location":"app/models/session.rb:8","type":"function","static":true}]},{"name":"User","type":"class","children":[{"name":"authenticate","type":"function","location":"app/models/user.rb:49","static":true}]}]}],"metadata":{"name":"Example scenario","git":{"repository":"git@github.com:applandinc/appland.git"},"app":"the-org/testapp"},"events":[{"id":1,"event":"call","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lineno":4,"receiver":{"class":"SessionController","value":"#\u003cSessionController:0x0000000000000000\u003e","object_id":"0"},"http_server_request":{"request_method":"POST","normalized_path_info":"/sessions/new","path_info":"/sessions/new"},"message":[{"name":"login","class":"String","object_id":70252828231460,"value":"alice"}]},{"id":2,"event":"call","defined_class":"User","method_id":"authenticate","path":"app/models/user.rb","lineno":49,"static":true,"parameters":[{"name":"login","class":"String","value":"admin","kind":"req"},{"name":"password","class":"String","value":"admin","kind":"req"}],"receiver":{"class":"Class","value":"User"}},{"id":3,"event":"return","parent_id":2,"defined_class":"User","method_id":"authenticate","path":"app/models/user.rb","lineno":49},{"id":4,"event":"call","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"receiver":{"class":"Session","value":"#\u003cSession:0x0000000000000000\u003... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES ('{"version":"1.2","classMap":[{"name":"controllers","location":"app/controllers","type":"package","children":[{"name":"SessionController","location":"app/controllers/session_controller.rb:2","type":"class","children":[{"name":"create","location":"app/controllers/session_controller.rb:4","type":"function"}]}]},{"name":"models","location":"app/models","type":"package","children":[{"name":"Session","location":"app/models/session.rb:2","type":"class","children":[{"name":"initialize","location":"app/models/session.rb:4","type":"function"},{"name":"delete","location":"app/models/session.rb:8","type":"function","static":true}]},{"name":"User","type":"class","children":[{"name":"authenticate","type":"function","location":"app/models/user.rb:49","static":true}]}]}],"metadata":{"name":"Example scenario","git":{"repository":"git@github.com:applandinc/appland.git"}},"events":[{"id":1,"event":"call","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lineno":4,"receiver":{"class":"SessionController","value":"#\u003cSessionController:0x0000000000000000\u003e","object_id":"0"},"http_server_request":{"request_method":"POST","normalized_path_info":"/sessions/new","path_info":"/sessions/new"},"message":[{"name":"login","class":"String","object_id":70252828231460,"value":"alice"}]},{"id":2,"event":"call","defined_class":"User","method_id":"authenticate","path":"app/models/user.rb","lineno":49,"static":true,"parameters":[{"name":"login","class":"String","value":"admin","kind":"req"},{"name":"password","class":"String","value":"admin","kind":"req"}],"receiver":{"class":"Class","value":"User"}},{"id":3,"event":"return","parent_id":2,"defined_class":"User","method_id":"authenticate","path":"app/models/user.rb","lineno":49},{"id":4,"event":"call","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"receiver":{"class":"Session","value":"#\u003cSession:0x0000000000000000\u003e","object_id":"1"},"sql... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenarios" ("data", "org_id", "mapset_id", "link_sharing") VALUES ('{"events":[{"id":1,"path":"app/controllers/session_controller.rb","event":"call","lineno":4,"message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"receiver":{"class":"SessionController","value":"#<SessionController:0x0000000000000000>","object_id":"0"},"method_id":"create","defined_class":"SessionController","http_server_request":{"path_info":"/sessions/new","request_method":"POST","normalized_path_info":"/sessions/new","client_normalized_path_info":"/sessions/new"}},{"id":2,"path":"app/models/user.rb","event":"call","lineno":49,"static":true,"receiver":{"class":"Class","value":"User"},"method_id":"authenticate","parameters":[{"kind":"req","name":"login","class":"String","value":"admin"},{"kind":"req","name":"password","class":"String","value":"admin"}],"defined_class":"User"},{"id":3,"path":"app/models/user.rb","event":"return","lineno":49,"method_id":"authenticate","parent_id":2,"defined_class":"User"},{"id":4,"path":"app/models/session.rb","event":"call","lineno":4,"receiver":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":"1"},"method_id":"initialize","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized":true,"normalized_sql":"SELECT * FROM users WHERE login = $1"},"defined_class":"Session"},{"id":5,"path":"app/models/session.rb","event":"return","lineno":4,"method_id":"initialize","parent_id":4,"defined_class":"Session"},{"id":6,"path":"app/controllers/session_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/session_controller.rb:4"}],"location":"app/controllers/session_controller.rb:2"}],"location":"app/controllers"},{"name":"models","type":"package","children":[{"name":"Session","type... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse SELECT "apps"."id", "apps"."name" AS "name", "orgs"."slug" AS "org_slug", "orgs"."name" AS "org_name", "url", "apps"."created_at", "apps"."slug", "users"."login" AS "owner_login" FROM "apps" INNER JOIN "orgs" ON ("orgs"."id" = "apps"."org_id") INNER JOIN "users" ON ("users"."id" = "orgs"."owner_id") WHERE ("apps"."org_id" IN (SELECT "orgs"."id" FROM "orgs" INNER JOIN "users_orgs" ON ("users_orgs"."org_id" = "orgs"."id") WHERE (("users_orgs"."user_id" = ?) AND ("orgs"."id" IS NOT ?)))) ORDER BY "apps"."created_at" DESC OFFSET ? : Syntax error found near Identifier (ORDER BY Clause)
Unable to parse SELECT "c"."impact_category", COUNT(DISTINCT finding_occurrences_v.scanner_check_id) FILTER (WHERE scanner_job_id IS NOT ?) as checks_count, COUNT(finding_occurrences_v.*)::integer as findings_count, COUNT(finding_occurrences_v.*) FILTER (WHERE finding_occurrences_v.status = ?) as new_count, COUNT(finding_occurrences_v.*) FILTER (WHERE finding_occurrences_v.status = ?) as deferred_count FROM "scanner_checks" LEFT JOIN "finding_occurrences_v" ON (("finding_occurrences_v"."scanner_check_id" = "scanner_checks"."id") AND ("finding_occurrences_v"."scanner_job_id" = ?)) RIGHT JOIN (VALUES (?), (?), (?), (?)) c(impact_category) ON (c.impact_category::scanner_category = scanner_checks.impact_category) GROUP BY "c"."impact_category" ORDER BY "c"."impact_category" : Syntax error found near Identifier (SELECT Results Clause)
Unable to parse SET standard_conforming_strings = ON : Syntax error found near WITH Clause (Statement)
Unable to parse SET client_min_messages = ? : Syntax error found near WITH Clause (Statement)
Unable to parse SET DateStyle = ? : Syntax error found near WITH Clause (Statement)
Unable to parse UPDATE "scenarios" SET "created_at" = '2022-01-30 22:24:04.027906+0000', "updated_at" = '2022-01-30 22:24:04.027906+0000', "uuid" = '02c0399f-b38b-48ad-a1d3-b48af1e282f8', "data" = '{"events":[{"id":1,"path":"app/controllers/session_controller.rb","event":"call","lineno":4,"message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"receiver":{"class":"SessionController","value":"#<SessionController:0x0000000000000000>","object_id":"0"},"method_id":"create","defined_class":"SessionController","http_server_request":{"path_info":"/sessions/new","request_method":"POST","normalized_path_info":"/sessions/new","client_normalized_path_info":"/sessions/new"}},{"id":2,"path":"app/models/user.rb","event":"call","lineno":49,"static":true,"receiver":{"class":"Class","value":"User"},"method_id":"authenticate","parameters":[{"kind":"req","name":"login","class":"String","value":"admin"},{"kind":"req","name":"password","class":"String","value":"admin"}],"defined_class":"User"},{"id":3,"path":"app/models/user.rb","event":"return","lineno":49,"method_id":"authenticate","parent_id":2,"defined_class":"User"},{"id":4,"path":"app/models/session.rb","event":"call","lineno":4,"receiver":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":"1"},"method_id":"initialize","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized":true,"normalized_sql":"SELECT * FROM users WHERE login = $1"},"defined_class":"Session"},{"id":5,"path":"app/models/session.rb","event":"return","lineno":4,"method_id":"initialize","parent_id":4,"defined_class":"Session"},{"id":6,"path":"app/controllers/session_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/session_controller.rb:4"}],"location":"app/controllers/session_controller.rb:2"}... : Syntax error found near Column Identifier (SET Clause)
Unable to parse UPDATE "scenarios" SET "created_at" = '2022-01-30 22:24:00.752263+0000', "updated_at" = '2022-01-30 22:24:00.752263+0000', "uuid" = 'a0a3942e-fbf6-4b61-81ac-59aea48fb7d5', "data" = '{"events":[{"id":1,"path":"app/controllers/session_controller.rb","event":"call","lineno":4,"message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"receiver":{"class":"SessionController","value":"#<SessionController:0x0000000000000000>","object_id":"0"},"method_id":"create","defined_class":"SessionController","http_server_request":{"path_info":"/sessions/new","request_method":"POST","normalized_path_info":"/sessions/new","client_normalized_path_info":"/sessions/new"}},{"id":2,"path":"app/models/user.rb","event":"call","lineno":49,"static":true,"receiver":{"class":"Class","value":"User"},"method_id":"authenticate","parameters":[{"kind":"req","name":"login","class":"String","value":"admin"},{"kind":"req","name":"password","class":"String","value":"admin"}],"defined_class":"User"},{"id":3,"path":"app/models/user.rb","event":"return","lineno":49,"method_id":"authenticate","parent_id":2,"defined_class":"User"},{"id":4,"path":"app/models/session.rb","event":"call","lineno":4,"receiver":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":"1"},"method_id":"initialize","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized":true,"normalized_sql":"SELECT * FROM users WHERE login = $1"},"defined_class":"Session"},{"id":5,"path":"app/models/session.rb","event":"return","lineno":4,"method_id":"initialize","parent_id":4,"defined_class":"Session"},{"id":6,"path":"app/controllers/session_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionController","type":"class","children":[{"name":"create","type":"function","location":"app/controllers/session_controller.rb:4"}],"location":"app/controllers/session_controller.rb:2"}... : Syntax error found near Column Identifier (SET Clause)
Unable to parse INSERT INTO "uploads" ("kind", "data") VALUES ('scenarios#create', '{"events":[{"id":1,"event":"call","message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"http_server_request":{"protocol":"http://","request_method":"POST","normalized_path_info":"/session(.:format)"}},{"id":2,"self":{"class":"User","value":"#<User:0x0000000000000000>","object_id":2},"event":"call","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''"}},{"id":3,"path":"app/models/session.rb","self":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":1},"event":"call","lineno":12,"method_id":"create","defined_class":"Session"},{"id":4,"path":"app/models/session.rb","event":"return","lineno":12,"method_id":"create","parent_id":3,"defined_class":"Session"},{"id":4,"path":"app/models/user.rb","event":"return","lineno":12,"method_id":"find","parent_id":2,"defined_class":"User"},{"id":5,"path":"app/controllers/sessions_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionsController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionsController","type":"class","children":[{"name":"create","type":"function","children":[],"location":"app/controllers/sessions_controller.rb:4"}],"location":"app/controllers/sessions_controller.rb:2"}],"location":"app/controllers"},{"name":"models","type":"package","children":[{"name":"Session","type":"class","children":[{"name":"create","type":"function","static":true,"children":[],"location":"app/models/session.rb:12"}],"location":"app/models/session.rb:2"},{"name":"User","type":"class","children":[{"name":"find","type":"function","static":true,"children":[],"location":"app/models/user.rb:12"}],"location":"app/models/user.rb:2"}],"location":"app/models"}],"metadata":{"git":{"branch":"test","commit":"4c7a6de016ab523f6606de1901ee785ac9525b96","repository":"git@github.com:applandinc/appland.git"},"name":"Session is created when a user provides valid credentials","l... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenarios" ("data", "link_sharing", "org_id", "mapset_id") VALUES ('{"events":[{"id":1,"event":"call","message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"http_server_request":{"protocol":"http://","request_method":"POST","normalized_path_info":"/session(.:format)","client_normalized_path_info":"/session(.:format)"}},{"id":2,"self":{"class":"User","value":"#<User:0x0000000000000000>","object_id":2},"event":"call","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized_sql":"SELECT * FROM users WHERE login = $1","normalized":true}},{"id":3,"path":"app/models/session.rb","self":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":1},"event":"call","lineno":12,"method_id":"create","defined_class":"Session"},{"id":4,"path":"app/models/session.rb","event":"return","lineno":12,"method_id":"create","parent_id":3,"defined_class":"Session"},{"id":4,"path":"app/models/user.rb","event":"return","lineno":12,"method_id":"find","parent_id":2,"defined_class":"User"},{"id":5,"path":"app/controllers/sessions_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionsController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionsController","type":"class","children":[{"name":"create","type":"function","children":[],"location":"app/controllers/sessions_controller.rb:4"}],"location":"app/controllers/sessions_controller.rb:2"}],"location":"app/controllers"},{"name":"models","type":"package","children":[{"name":"Session","type":"class","children":[{"name":"create","type":"function","static":true,"children":[],"location":"app/models/session.rb:12"}],"location":"app/models/session.rb:2"},{"name":"User","type":"class","children":[{"name":"find","type":"function","static":true,"children":[],"location":"app/models/user.rb:12"}],"location":"app/models/user.rb:2"}],"location":"app/models"}],"metadata":{"git":{"branch":"test","commit":"4c7a6de016ab523f6606de1901e... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenarios" ("data", "link_sharing", "org_id", "mapset_id") VALUES ('{"events":[{"id":1,"event":"call","message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"http_server_request":{"protocol":"http://","request_method":"POST","normalized_path_info":"/session(.:format)","client_normalized_path_info":"/session(.:format)"}},{"id":2,"self":{"class":"User","value":"#<User:0x0000000000000000>","object_id":2},"event":"call","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized_sql":"SELECT * FROM users WHERE login = $1","normalized":true}},{"id":3,"path":"app/models/session.rb","self":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":1},"event":"call","lineno":12,"method_id":"create","defined_class":"Session"},{"id":4,"path":"app/models/session.rb","event":"return","lineno":12,"method_id":"create","parent_id":3,"defined_class":"Session"},{"id":4,"path":"app/models/user.rb","event":"return","lineno":12,"method_id":"find","parent_id":2,"defined_class":"User"},{"id":5,"path":"app/controllers/sessions_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionsController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionsController","type":"class","children":[{"name":"create","type":"function","children":[],"location":"app/controllers/sessions_controller.rb:4"}],"location":"app/controllers/sessions_controller.rb:2"}],"location":"app/controllers"},{"name":"models","type":"package","children":[{"name":"Session","type":"class","children":[{"name":"create","type":"function","static":true,"children":[],"location":"app/models/session.rb:12"}],"location":"app/models/session.rb:2"},{"name":"User","type":"class","children":[{"name":"find","type":"function","static":true,"children":[],"location":"app/models/user.rb:12"}],"location":"app/models/user.rb:2"}],"location":"app/models"}],"metadata":{"app":"myapp","git":{"branch":"test","commit":"4c7a6de016ab5... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenarios" ("data", "link_sharing", "org_id", "mapset_id") VALUES ('{"events":[{"id":1,"event":"call","message":[{"name":"login","class":"String","value":"alice","object_id":70252828231460}],"http_server_request":{"protocol":"http://","request_method":"POST","normalized_path_info":"/session(.:format)","client_normalized_path_info":"/session(.:format)"}},{"id":2,"self":{"class":"User","value":"#<User:0x0000000000000000>","object_id":2},"event":"call","sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized_sql":"SELECT * FROM users WHERE login = $1","normalized":true}},{"id":3,"path":"app/models/session.rb","self":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":1},"event":"call","lineno":12,"method_id":"create","defined_class":"Session"},{"id":4,"path":"app/models/session.rb","event":"return","lineno":12,"method_id":"create","parent_id":3,"defined_class":"Session"},{"id":4,"path":"app/models/user.rb","event":"return","lineno":12,"method_id":"find","parent_id":2,"defined_class":"User"},{"id":5,"path":"app/controllers/sessions_controller.rb","event":"return","lineno":4,"method_id":"create","parent_id":1,"defined_class":"SessionsController"}],"version":"1.2","classMap":[{"name":"controllers","type":"package","children":[{"name":"SessionsController","type":"class","children":[{"name":"create","type":"function","children":[],"location":"app/controllers/sessions_controller.rb:4"}],"location":"app/controllers/sessions_controller.rb:2"}],"location":"app/controllers"},{"name":"models","type":"package","children":[{"name":"Session","type":"class","children":[{"name":"create","type":"function","static":true,"children":[],"location":"app/models/session.rb:12"}],"location":"app/models/session.rb:2"},{"name":"User","type":"class","children":[{"name":"find","type":"function","static":true,"children":[],"location":"app/models/user.rb:12"}],"location":"app/models/user.rb:2"}],"location":"app/models"}],"metadata":{"app":"mycorp/myapp","git":{"branch":"test","commit":"4c7a6d... : Syntax error found near VALUES Clause (SELECT Statement)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES (?) ON CONFLICT ("sha_256") DO UPDATE SET "sha_256" = DEFAULT RETURNING "sha_256" : Syntax error found near Numbered Bind Parameter (VALUES Clause)
Unable to parse INSERT INTO "scenario_data" ("data") VALUES (?::json) ON ... : Syntax error found near Custom Datatype Name (VALUES Clause)
Unable to parse UPDATE "scenarios" SET "data" = '{"version":"1.2","classMap":[{"name":"controllers","location":"app/controllers","type":"package","children":[{"name":"SessionController","location":"app/controllers/session_controller.rb:2","type":"class","children":[{"name":"create","location":"app/controllers/session_controller.rb:4","type":"function","static":false}]}]},{"name":"models","location":"app/models","type":"package","children":[{"name":"Session","location":"app/models/session.rb:2","type":"class","children":[{"name":"initialize","location":"app/models/session.rb:4","type":"function","static":false},{"name":"delete","location":"app/models/session.rb:8","type":"function","static":true}]}]}],"metadata":{"name":"Example scenario","language":{"name":"ruby"},"recorder":{"name":"rspec"},"client":{"name":"appmap","url":"https://github.com/applandinc/appmap-ruby","inferred":true}},"events":[{"id":1,"event":"call","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lineno":4,"receiver":{"class":"SessionController","value":"#<SessionController:0x0000000000000000>","object_id":"0"},"http_server_request":{"request_method":"POST","normalized_path_info":"/sessions/new","path_info":"/sessions/new","client_normalized_path_info":"/sessions/new"},"message":[{"name":"login","class":"String","object_id":70252828231460,"value":"alice"}]},{"id":2,"event":"call","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"receiver":{"class":"Session","value":"#<Session:0x0000000000000000>","object_id":"1"},"sql_query":{"sql":"SELECT * FROM users WHERE login = ''alice''","normalized_sql":"SELECT * FROM users WHERE login = $1","normalized":true}},{"id":3,"event":"return","defined_class":"Session","method_id":"initialize","path":"app/models/session.rb","lineno":4,"parent_id":2},{"id":4,"event":"return","defined_class":"SessionController","method_id":"create","path":"app/controllers/session_controller.rb","lineno":4,"parent_id":1}]}'::jsonb, "sha_256" = '\x... : Syntax error found near Column Identifier (SET Clause)
